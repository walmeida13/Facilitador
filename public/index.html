// Fun√ß√£o para processar com Google Vision API
async function processWithGoogleVision(file) {
    try {
        const arrayBuffer = await file.arrayBuffer();
        const bytes = new Uint8Array(arrayBuffer);
        const base64 = btoa(String.fromCharCode(...bytes));

        showStatus('üéØ Processando com Google Cloud Vision...', 'info');

        const response = await fetch('/api/ocr', {
            method: 'POST',
            headers: { 
                'Content-Type': 'application/json' 
            },
            body: JSON.stringify({ 
                imageBase64: base64 
            })
        });

        const data = await response.json();

        if (data.success) {
            showStatus('‚úÖ OCR conclu√≠do com sucesso!', 'success');
            return data.text;
        } else {
            throw new Error(data.error || 'Erro no OCR');
        }
    } catch (error) {
        console.error('Erro no Google Vision:', error);
        showStatus('‚ö†Ô∏è Usando OCR alternativo...', 'warning');
        // Fallback para Tesseract
        return await extractWithTesseract(file);
    }
}
